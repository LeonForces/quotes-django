{% extends "base.html" %}
{% block title %}Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´{% endblock %}
{% block content %}
<h2>Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´</h2>

<div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;margin-bottom:16px;">
  <div style="padding:12px;border:1px solid var(--border);border-radius:12px;background:var(--panel);">
    <div class="meta">ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ñ†Ğ¸Ñ‚Ğ°Ñ‚</div>
    <div class="quote" style="font-size:1.8rem;">{{ metrics.quotes_count|default:0 }}</div>
  </div>
  <div style="padding:12px;border:1px solid var(--border);border-radius:12px;background:var(--panel);">
    <div class="meta">Ğ’ÑĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¾Ğ²</div>
    <div class="quote" style="font-size:1.8rem;">{{ metrics.total_views|default:0 }}</div>
  </div>
  <div style="padding:12px;border:1px solid var(--border);border-radius:12px;background:var(--panel);">
    <div class="meta">Ğ’ÑĞµĞ³Ğ¾ Ğ»Ğ°Ğ¹ĞºĞ¾Ğ²</div>
    <div class="quote" style="font-size:1.8rem;">{{ metrics.total_likes|default:0 }}</div>
  </div>
  <div style="padding:12px;border:1px solid var(--border);border-radius:12px;background:var(--panel);">
    <div class="meta">Ğ’ÑĞµĞ³Ğ¾ Ğ´Ğ¸Ğ·Ğ»Ğ°Ğ¹ĞºĞ¾Ğ²</div>
    <div class="quote" style="font-size:1.8rem;">{{ metrics.total_dislikes|default:0 }}</div>
  </div>
</div>

<div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px;">
  <section style="padding:12px;border:1px solid var(--border);border-radius:12px;background:var(--panel);">
    <h3 style="margin:0 0 8px 0;">Ğ¢Ğ¾Ğ¿â€‘5 Ğ¿Ğ¾ Ğ»Ğ°Ğ¹ĞºĞ°Ğ¼</h3>
    <ol>
      {% for q in top_likes %}
        <li>
          â€œ{{ q.text|truncatechars:80 }}â€
          <div class="meta">ğŸ‘ {{ q.likes }} Â· ğŸ‘€ {{ q.views }} Â· {{ q.source }}</div>
        </li>
      {% empty %}
        <li>ĞĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…</li>
      {% endfor %}
    </ol>
    <a class="btn secondary" href="{% url 'popular' %}" style="margin-top:8px;display:inline-block;">Ğ’ÑĞµ (Ğ¢Ğ¾Ğ¿â€‘10 Ğ»Ğ°Ğ¹ĞºĞ¾Ğ²)</a>
  </section>

  <section style="padding:12px;border:1px solid var(--border);border-radius:12px;background:var(--panel);">
    <h3 style="margin:0 0 8px 0;">Ğ¢Ğ¾Ğ¿â€‘5 Ğ¿Ğ¾ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ°Ğ¼</h3>
    <ol>
      {% for q in top_views %}
        <li>
          â€œ{{ q.text|truncatechars:80 }}â€
          <div class="meta">ğŸ‘€ {{ q.views }} Â· ğŸ‘ {{ q.likes }} Â· {{ q.source }}</div>
        </li>
      {% empty %}
        <li>ĞĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…</li>
      {% endfor %}
    </ol>
    <a class="btn secondary" href="{% url 'popular_by_views' %}" style="margin-top:8px;display:inline-block;">Ğ’ÑĞµ (Ğ¢Ğ¾Ğ¿â€‘10 Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¾Ğ²)</a>
  </section>

  <section style="padding:12px;border:1px solid var(--border);border-radius:12px;background:var(--panel);">
    <h3 style="margin:0 0 8px 0;">Ğ¢Ğ¾Ğ¿â€‘5 Ğ¿Ğ¾ Ğ´Ğ¸Ğ·Ğ»Ğ°Ğ¹ĞºĞ°Ğ¼</h3>
    <ol>
      {% for q in top_dislikes %}
        <li>
          â€œ{{ q.text|truncatechars:80 }}â€
          <div class="meta">ğŸ‘ {{ q.dislikes }} Â· ğŸ‘€ {{ q.views }} Â· {{ q.source }}</div>
        </li>
      {% empty %}
        <li>ĞĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…</li>
      {% endfor %}
    </ol>
    <a class="btn secondary" href="{% url 'popular_by_dislikes' %}" style="margin-top:8px;display:inline-block;">Ğ’ÑĞµ (Ğ¢Ğ¾Ğ¿â€‘10 Ğ´Ğ¸Ğ·Ğ»Ğ°Ğ¹ĞºĞ¾Ğ²)</a>
  </section>
</div>
{% endblock %}